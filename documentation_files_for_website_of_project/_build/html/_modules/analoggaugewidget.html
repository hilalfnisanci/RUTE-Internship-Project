<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>analoggaugewidget &mdash; Sphinx Project 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Sphinx Project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">project_files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sphinx Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Module code</a> &raquo;</li>
      <li>analoggaugewidget</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for analoggaugewidget</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">analoggaugewidget.py</span>
<span class="sd">====================================</span>
<span class="sd">This module to create gauge meter widget</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">mqttEvents</span> <span class="kn">import</span> <span class="n">Mqtt</span>

<div class="viewcode-block" id="AnalogGaugeWidget"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget">[docs]</a><span class="k">class</span> <span class="nc">AnalogGaugeWidget</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetches rows from a Bigtable.</span>
<span class="sd">    Args: </span>
<span class="sd">        none</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valueChanged</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AnalogGaugeWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        
        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT TIMER VALUE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT NEEDLE COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setNeedleColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT NEEDLE WHEN RELEASED</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorReleased</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT NEEDLE COLOR ON DRAG</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># self.NeedleColorDrag = QColor(255, 0, 00, 255)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setNeedleColorOnDrag</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">00</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT SCALE TEXT COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setScaleValueColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT VALUE COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setDisplayValueColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT CENTER POINTER COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># self.CenterPointColor = QColor(50, 50, 50, 255)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_CenterPointColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT NEEDLE COUNT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_needle_count</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">value_needle</span> <span class="o">=</span> <span class="n">QObject</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT MINIMUM AND MAXIMUM VALUE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT START VALUE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT OFFSET</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">valueNeedleSnapzone</span> <span class="o">=</span> <span class="mf">0.05</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_value</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># self.value2 = 0</span>
        <span class="c1"># self.value2Color = QColor(0, 0, 0, 255)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT RADIUS</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_outer_radius_factor</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_inner_radius_factor</span> <span class="o">=</span> <span class="mf">0.9</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">center_horizontal_value</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center_vertical_value</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT SCALE VALUE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">=</span> <span class="mi">135</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">=</span> <span class="mi">270</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="mi">135</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setScalaCount</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scala_subdiv_count</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># LOAD CUSTOM FONT</span>
        <span class="c1">################################################################################################     </span>
        <span class="n">QFontDatabase</span><span class="o">.</span><span class="n">addApplicationFont</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;fonts/Orbitron/Orbitron-VariableFont_wght.ttf&#39;</span><span class="p">)</span> <span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT POLYGON COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># BIG SCALE COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># FINE SCALE COLOR</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT SCALE TEXT STATUS</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setEnableScaleText</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_fontname</span> <span class="o">=</span> <span class="s2">&quot;Orbitron&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_scale_fontsize</span> <span class="o">=</span> <span class="mi">14</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_fontsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_scale_fontsize</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># DEFAULT VALUE TEXT STATUS</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_value_text</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span> <span class="o">=</span> <span class="s2">&quot;Orbitron&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_value_fontsize</span> <span class="o">=</span> <span class="mi">40</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_value_fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_radius_factor</span> <span class="o">=</span> <span class="mf">0.5</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE BAR GRAPH BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setEnableBarGraph</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># FILL POLYGON COLOR BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setEnableScalePolygon</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE CENTER POINTER BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_CenterPoint</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE FINE SCALE BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_fine_scaled_marker</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE BIG SCALE BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_big_scaled_marker</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># NEEDLE SCALE FACTOR/LENGTH</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">needle_scale_factor</span> <span class="o">=</span> <span class="mf">0.8</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE NEEDLE POLYGON BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_Needle_Polygon</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># ENABLE NEEDLE MOUSE TRACKING BY DEFAULT</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="c1">################################################################################################</span>
        <span class="c1"># SET GAUGE UNITS</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;km/h&quot;</span>

        <span class="c1"># QTimer sorgt für neu Darstellung alle X ms</span>
        <span class="c1"># evtl performance hier verbessern mit self.update() und self.use_timer_event = False</span>
        <span class="c1"># todo: self.update als default ohne ueberpruefung, ob self.use_timer_event gesetzt ist oder nicht</span>
        <span class="c1"># Timer startet alle 10ms das event paintEvent</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">)</span>
            <span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># SET DEFAULT THEME</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setGaugeTheme</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># RESIZE GAUGE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rescale_method</span><span class="p">()</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE FONT FAMILY</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setScaleFontFamily"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setScaleFontFamily">[docs]</a>    <span class="k">def</span> <span class="nf">setScaleFontFamily</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_fontname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">font</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET VALUE FONT FAMILY</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setValueFontFamily"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setValueFontFamily">[docs]</a>    <span class="k">def</span> <span class="nf">setValueFontFamily</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">font</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET BIG SCALE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setBigScaleColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setBigScaleColor">[docs]</a>    <span class="k">def</span> <span class="nf">setBigScaleColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>      </div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET FINE SCALE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setFineScaleColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setFineScaleColor">[docs]</a>    <span class="k">def</span> <span class="nf">setFineScaleColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>    </div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># GAUGE THEMES</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setGaugeTheme"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setGaugeTheme">[docs]</a>    <span class="k">def</span> <span class="nf">setGaugeTheme</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Theme</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">Theme</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.00</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">],</span>
                                    <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">yellow</span><span class="p">],</span>
                                    <span class="p">[</span><span class="mf">.15</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">green</span><span class="p">],</span>
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.16</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.225</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.423963</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.580645</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.792627</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.935</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">57</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

        <span class="k">if</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">],</span>
                                     <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">yellow</span><span class="p">],</span>
                                     <span class="p">[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">green</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.16</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.225</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.423963</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.580645</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.792627</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.935</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">57</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

        <span class="k">if</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">],</span>
                                     <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">yellow</span><span class="p">],</span>
                                     <span class="p">[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">green</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.16</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.225</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.423963</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.580645</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.792627</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.935</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">57</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.00</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span><span class="p">],</span> 
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span><span class="p">],</span> 
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span><span class="p">],</span> 
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span><span class="p">],</span> 
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#029CDE&quot;</span><span class="p">)]])</span>  

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#029CDE&quot;</span><span class="p">)],</span> 
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#029CDE&quot;</span><span class="p">)],</span> 
                                    <span class="p">]</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#01ADEF&quot;</span><span class="p">)],</span>
                                     <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#0086BF&quot;</span><span class="p">)],</span>
                                     <span class="p">[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#005275&quot;</span><span class="p">)]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.322581</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.571429</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span>
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#01ADEF&quot;</span><span class="p">)],</span>
                                     <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#0086BF&quot;</span><span class="p">)],</span>
                                     <span class="p">[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;#005275&quot;</span><span class="p">)]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.322581</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.571429</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span>
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                    <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">255</span><span class="p">)],</span> 
                                    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span>
                                    <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#ffaa00&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#7d5300&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#3e2900&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#3e2900&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#7d5300&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#ffaa00&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#ff007f&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#aa0055&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#830042&quot;</span>
            <span class="p">)</span>


            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">11</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#830042&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#aa0055&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#ff007f&quot;</span>
            <span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">12</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#ffe75d&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#896c1a&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#232803&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">13</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#ffe75d&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#896c1a&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#232803&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">14</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#232803&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#821600&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#ffe75d&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">15</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#00FF11&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#00990A&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#002603&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">16</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#002603&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#00990A&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#00FF11&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">17</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#00FFCC&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#00876C&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#00211B&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">18</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#00211B&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#00876C&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#00FFCC&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">19</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#001EFF&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#001299&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#000426&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">20</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#000426&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#001299&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#001EFF&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">21</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#F200FF&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#85008C&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#240026&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">black</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">22</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#240026&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#85008C&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#F200FF&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">23</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#FF0022&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#080001&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#009991&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>

        <span class="k">elif</span> <span class="n">Theme</span> <span class="o">==</span> <span class="mi">24</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCustomGaugeTheme</span><span class="p">(</span>
                <span class="n">color1</span> <span class="o">=</span> <span class="s2">&quot;#009991&quot;</span><span class="p">,</span>
                <span class="n">color2</span><span class="o">=</span> <span class="s2">&quot;#080001&quot;</span><span class="p">,</span>
                <span class="n">color3</span> <span class="o">=</span> <span class="s2">&quot;#FF0022&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">white</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET CUSTOM GAUGE THEME</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setCustomGaugeTheme"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setCustomGaugeTheme">[docs]</a>    <span class="k">def</span> <span class="nf">setCustomGaugeTheme</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">colors</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;color1&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;color2&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;color3&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))]])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.322581</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.571429</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                            <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.36</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span>
                                             <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]])</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                        <span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                        <span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">setGaugeTheme</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color1 is not defined&quot;</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE POLYGON COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setScalePolygonColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setScalePolygonColor">[docs]</a>    <span class="k">def</span> <span class="nf">setScalePolygonColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">colors</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;color1&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;color2&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;color3&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.25</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mf">.75</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))]])</span>

                <span class="k">else</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mf">.5</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span>
                                             <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]])</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">set_scale_polygon_colors</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color1 is not defined&quot;</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET NEEDLE CENTER COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setNeedleCenterColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setNeedleCenterColor">[docs]</a>    <span class="k">def</span> <span class="nf">setNeedleCenterColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">colors</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;color1&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;color2&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;color3&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.322581</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.571429</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span>
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span> <span class="o">=</span> <span class="p">[</span>
                                        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                        <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color1 is not defined&quot;</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET OUTER CIRCLE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setOuterCircleColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setOuterCircleColor">[docs]</a>    <span class="k">def</span> <span class="nf">setOuterCircleColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">colors</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;color1&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;color2&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;color3&quot;</span> <span class="ow">in</span> <span class="n">colors</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                            <span class="p">[</span><span class="mf">0.0645161</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color3&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mf">0.37788</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))],</span> 
                                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color2&#39;</span><span class="p">]))]</span>
                                            <span class="p">]</span>

            <span class="k">else</span><span class="p">:</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span> <span class="o">=</span>  <span class="p">[</span>
                                        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;color1&#39;</span><span class="p">]))]</span>
                                        <span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color1 is not defined&quot;</span><span class="p">)</span></div>



    <span class="c1">################################################################################################</span>
    <span class="c1"># RESCALE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.rescale_method"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.rescale_method">[docs]</a>    <span class="k">def</span> <span class="nf">rescale_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># print(&quot;slotMethod&quot;)</span>
        <span class="c1">################################################################################################</span>
        <span class="c1"># SET WIDTH AND HEIGHT</span>
        <span class="c1">################################################################################################</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>

        <span class="c1">################################################################################################</span>
        <span class="c1"># SET NEEDLE SIZE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">change_value_needle_style</span><span class="p">([</span><span class="n">QPolygon</span><span class="p">([</span>
            <span class="n">QPoint</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
            <span class="n">QPoint</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
            <span class="n">QPoint</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">needle_scale_factor</span><span class="p">)),</span>
            <span class="n">QPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">needle_scale_factor</span> <span class="o">-</span> <span class="mi">6</span><span class="p">)),</span>
            <span class="n">QPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">needle_scale_factor</span><span class="p">))</span>
        <span class="p">])])</span>


        <span class="c1">################################################################################################</span>
        <span class="c1"># SET FONT SIZE</span>
        <span class="c1">################################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_fontsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_scale_fontsize</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">400</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_value_fontsize</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">400</span></div>


<div class="viewcode-block" id="AnalogGaugeWidget.change_value_needle_style"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.change_value_needle_style">[docs]</a>    <span class="k">def</span> <span class="nf">change_value_needle_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design</span><span class="p">):</span>
        <span class="c1"># prepared for multiple needle instrument</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_needle</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">design</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_needle</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># UPDATE VALUE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.updateValue"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.updateValue">[docs]</a>    <span class="k">def</span> <span class="nf">updateValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">mouse_controlled</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="c1"># if not mouse_controlled:</span>
        <span class="c1">#     self.value = value</span>
        <span class="c1">#</span>
        <span class="c1"># if mouse_controlled:</span>
        <span class="c1">#     self.valueChanged.emit(int(value))</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        
        <span class="c1"># max hız koşulu başladı</span>
        <span class="c1">#  max hız 140 olabileceği için sınırlayıcı ekledim</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">140</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">140</span>
        <span class="c1"># max hız koşulu bitti </span>

        <span class="c1"># self.paintEvent(&quot;&quot;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="c1"># print(self.value)</span>

        <span class="c1"># ohne timer: aktiviere self.update()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="AnalogGaugeWidget.updateAngleOffset"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.updateAngleOffset">[docs]</a>    <span class="k">def</span> <span class="nf">updateAngleOffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

<div class="viewcode-block" id="AnalogGaugeWidget.center_horizontal"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.center_horizontal">[docs]</a>    <span class="k">def</span> <span class="nf">center_horizontal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center_horizontal_value</span> <span class="o">=</span> <span class="n">value</span></div>
        <span class="c1"># print(&quot;horizontal: &quot; + str(self.center_horizontal_value))</span>

<div class="viewcode-block" id="AnalogGaugeWidget.center_vertical"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.center_vertical">[docs]</a>    <span class="k">def</span> <span class="nf">center_vertical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center_vertical_value</span> <span class="o">=</span> <span class="n">value</span></div>
        <span class="c1"># print(&quot;vertical: &quot; + str(self.center_vertical_value))</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET NEEDLE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setNeedleColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setNeedleColor">[docs]</a>    <span class="k">def</span> <span class="nf">setNeedleColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Transparency</span><span class="o">=</span><span class="mi">255</span><span class="p">):</span>
        <span class="c1"># Red: R = 0 - 255</span>
        <span class="c1"># Green: G = 0 - 255</span>
        <span class="c1"># Blue: B = 0 - 255</span>
        <span class="c1"># Transparency = 0 - 255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Transparency</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorReleased</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>
    <span class="c1">################################################################################################</span>
    <span class="c1"># SET NEEDLE COLOR ON DRAG</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setNeedleColorOnDrag"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setNeedleColorOnDrag">[docs]</a>    <span class="k">def</span> <span class="nf">setNeedleColorOnDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Transparency</span><span class="o">=</span><span class="mi">255</span><span class="p">):</span>
        <span class="c1"># Red: R = 0 - 255</span>
        <span class="c1"># Green: G = 0 - 255</span>
        <span class="c1"># Blue: B = 0 - 255</span>
        <span class="c1"># Transparency = 0 - 255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorDrag</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Transparency</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE VALUE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setScaleValueColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setScaleValueColor">[docs]</a>    <span class="k">def</span> <span class="nf">setScaleValueColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Transparency</span><span class="o">=</span><span class="mi">255</span><span class="p">):</span>
        <span class="c1"># Red: R = 0 - 255</span>
        <span class="c1"># Green: G = 0 - 255</span>
        <span class="c1"># Blue: B = 0 - 255</span>
        <span class="c1"># Transparency = 0 - 255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ScaleValueColor</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Transparency</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET DISPLAY VALUE COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setDisplayValueColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setDisplayValueColor">[docs]</a>    <span class="k">def</span> <span class="nf">setDisplayValueColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Transparency</span><span class="o">=</span><span class="mi">255</span><span class="p">):</span>
        <span class="c1"># Red: R = 0 - 255</span>
        <span class="c1"># Green: G = 0 - 255</span>
        <span class="c1"># Blue: B = 0 - 255</span>
        <span class="c1"># Transparency = 0 - 255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayValueColor</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Transparency</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET CENTER POINTER COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.set_CenterPointColor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.set_CenterPointColor">[docs]</a>    <span class="k">def</span> <span class="nf">set_CenterPointColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Transparency</span><span class="o">=</span><span class="mi">255</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CenterPointColor</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">Transparency</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE NEEDLE POLYGON</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableNeedlePolygon"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableNeedlePolygon">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableNeedlePolygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_Needle_Polygon</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE SCALE TEXT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableScaleText"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableScaleText">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableScaleText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_scale_text</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE BAR GRAPH</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableBarGraph"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableBarGraph">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableBarGraph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enableBarGraph</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE VALUE TEXT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableValueText"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableValueText">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableValueText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_value_text</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE CENTER POINTER</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableCenterPoint"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableCenterPoint">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableCenterPoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_CenterPoint</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE FILLED POLYGON</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableScalePolygon"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableScalePolygon">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableScalePolygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_filled_Polygon</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE BIG SCALE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableBigScaleGrid"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableBigScaleGrid">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableBigScaleGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_big_scaled_marker</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>


    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE FINE SCALE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setEnableFineScaleGrid"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setEnableFineScaleGrid">[docs]</a>    <span class="k">def</span> <span class="nf">setEnableFineScaleGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_fine_scaled_marker</span> <span class="o">=</span> <span class="n">enable</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SHOW HIDE SCALA MAIN CONT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setScalaCount"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setScalaCount">[docs]</a>    <span class="k">def</span> <span class="nf">setScalaCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span> <span class="o">=</span> <span class="n">count</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET MINIMUM VALUE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setMinValue"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setMinValue">[docs]</a>    <span class="k">def</span> <span class="nf">setMinValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="nb">min</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">min</span>
        <span class="k">if</span> <span class="nb">min</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span> <span class="o">=</span> <span class="nb">min</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET MAXIMUM VALUE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setMaxValue"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setMaxValue">[docs]</a>    <span class="k">def</span> <span class="nf">setMaxValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">max</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="nb">max</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">max</span>
        <span class="k">if</span> <span class="nb">max</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">=</span> <span class="nb">max</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE ANGLE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setScaleStartAngle"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setScaleStartAngle">[docs]</a>    <span class="k">def</span> <span class="nf">setScaleStartAngle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># Value range in DEG: 0 - 360</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># print(&quot;startFill: &quot; + str(self.scale_angle_start_value))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE SIZE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setTotalScaleAngleSize"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setTotalScaleAngleSize">[docs]</a>    <span class="k">def</span> <span class="nf">setTotalScaleAngleSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># print(&quot;stopFill: &quot; + str(self.scale_angle_size))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET GAUGE COLOR OUTER RADIUS</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setGaugeColorOuterRadiusFactor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setGaugeColorOuterRadiusFactor">[docs]</a>    <span class="k">def</span> <span class="nf">setGaugeColorOuterRadiusFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_outer_radius_factor</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
        <span class="c1"># print(self.gauge_color_outer_radius_factor)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET GAUGE COLOR INNER RADIUS</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.setGaugeColorInnerRadiusFactor"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setGaugeColorInnerRadiusFactor">[docs]</a>    <span class="k">def</span> <span class="nf">setGaugeColorInnerRadiusFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_inner_radius_factor</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
        <span class="c1"># print(self.gauge_color_inner_radius_factor)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># SET SCALE POLYGON COLOR</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.set_scale_polygon_colors"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.set_scale_polygon_colors">[docs]</a>    <span class="k">def</span> <span class="nf">set_scale_polygon_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color_array</span><span class="p">):</span>
        <span class="c1"># print(type(color_array))</span>
        <span class="k">if</span> <span class="s1">&#39;list&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">color_array</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span> <span class="o">=</span> <span class="n">color_array</span>
        <span class="k">elif</span> <span class="n">color_array</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">.0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">.0</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">]]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># GET MAXIMUM VALUE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.get_value_max"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.get_value_max">[docs]</a>    <span class="k">def</span> <span class="nf">get_value_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span></div>

    <span class="c1">###############################################################################################</span>
    <span class="c1"># SCALE PAINTER</span>
    <span class="c1">###############################################################################################</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># CREATE PIE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.create_polygon_pie"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.create_polygon_pie">[docs]</a>    <span class="k">def</span> <span class="nf">create_polygon_pie</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outer_radius</span><span class="p">,</span> <span class="n">inner_raduis</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">lenght</span><span class="p">,</span> <span class="n">bar_graph</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="n">polygon_pie</span> <span class="o">=</span> <span class="n">QPolygonF</span><span class="p">()</span>
        <span class="c1"># start = self.scale_angle_start_value</span>
        <span class="c1"># start = 0</span>
        <span class="c1"># lenght = self.scale_angle_size</span>
        <span class="c1"># lenght = 180</span>
        <span class="c1"># inner_raduis = self.width()/4</span>
        <span class="c1"># print(start)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="mi">360</span>     <span class="c1"># angle steps size for full circle</span>
        <span class="c1"># changing n value will causes drawing issues</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">/</span> <span class="n">n</span>   <span class="c1"># angle per step</span>
        <span class="c1"># create outer circle line from &quot;start&quot;-angle to &quot;start + lenght&quot;-angle</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># todo enable/disable bar graf here</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">enableBarGraph</span> <span class="ow">and</span> <span class="n">bar_graph</span><span class="p">:</span>
            <span class="c1"># float_value = ((lenght / (self.maxValue - self.minValue)) * (self.value - self.minValue))</span>
            <span class="n">lenght</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">lenght</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)))</span>
            <span class="c1"># print(&quot;f: %s, l: %s&quot; %(float_value, lenght))</span>
            <span class="k">pass</span>

        <span class="c1"># mymax = 0</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenght</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>                                              <span class="c1"># add the points of polygon</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">start</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">outer_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">outer_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
            <span class="n">polygon_pie</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="c1"># create inner circle line from &quot;start + lenght&quot;-angle to &quot;start&quot;-angle</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenght</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>                                              <span class="c1"># add the points of polygon</span>
            <span class="c1"># print(&quot;2 &quot; + str(i))</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="p">(</span><span class="n">lenght</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">start</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">inner_raduis</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">inner_raduis</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
            <span class="n">polygon_pie</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

        <span class="c1"># close outer line</span>
        <span class="n">polygon_pie</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">polygon_pie</span></div>

<div class="viewcode-block" id="AnalogGaugeWidget.draw_filled_polygon"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_filled_polygon">[docs]</a>    <span class="k">def</span> <span class="nf">draw_filled_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outline_pen_with</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">painter_filled_polygon</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
            <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
            <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

            <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoPen</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">outline_pen_with</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">outline_pen_with</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="p">)</span>

            <span class="n">colored_scale_polygon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_polygon_pie</span><span class="p">(</span>
                <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_outer_radius_factor</span><span class="p">,</span>
                <span class="p">(((</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">gauge_color_inner_radius_factor</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span><span class="p">)</span>

            <span class="c1"># gauge_rect = QRect(QPoint(0, 0), QSize(self.widget_diameter / 2 - 1, self.widget_diameter - 1))</span>
            <span class="n">grad</span> <span class="o">=</span> <span class="n">QConicalGradient</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">+</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="c1"># todo definition scale color as array here</span>
            <span class="k">for</span> <span class="n">eachcolor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_polygon_colors</span><span class="p">:</span>
                <span class="n">grad</span><span class="o">.</span><span class="n">setColorAt</span><span class="p">(</span><span class="n">eachcolor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">eachcolor</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="c1"># grad.setColorAt(.00, Qt.red)</span>
            <span class="c1"># grad.setColorAt(.1, Qt.yellow)</span>
            <span class="c1"># grad.setColorAt(.15, Qt.green)</span>
            <span class="c1"># grad.setColorAt(1, Qt.transparent)</span>
            <span class="c1"># self.brush = QBrush(QColor(255, 0, 255, 255))</span>
            <span class="c1"># grad.setStyle(Qt.Dense6Pattern)</span>
            <span class="c1"># painter_filled_polygon.setBrush(self.brush)</span>
            <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">grad</span><span class="p">)</span>
           

            <span class="n">painter_filled_polygon</span><span class="o">.</span><span class="n">drawPolygon</span><span class="p">(</span><span class="n">colored_scale_polygon</span><span class="p">)</span></div>
            <span class="c1"># return painter_filled_polygon</span>

<div class="viewcode-block" id="AnalogGaugeWidget.draw_icon_image"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_icon_image">[docs]</a>    <span class="k">def</span> <span class="nf">draw_icon_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

    <span class="c1">###############################################################################################</span>
    <span class="c1"># BIG SCALE MARKERS</span>
    <span class="c1">###############################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.draw_big_scaled_marker"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_big_scaled_marker">[docs]</a>    <span class="k">def</span> <span class="nf">draw_big_scaled_marker</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">my_painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">my_painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
        <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
        <span class="n">my_painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1"># my_painter.setPen(Qt.NoPen)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bigScaleMarker</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># # if outline_pen_with &gt; 0:</span>
        <span class="n">my_painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="p">)</span>

        <span class="n">my_painter</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span><span class="p">)</span>
        <span class="n">steps_size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span><span class="p">))</span>
        <span class="n">scale_line_outer_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">scale_line_lenght</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">20</span><span class="p">)</span>
        <span class="c1"># print(stepszize)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">my_painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">scale_line_lenght</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">scale_line_outer_start</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">my_painter</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">steps_size</span><span class="p">)</span></div>

<div class="viewcode-block" id="AnalogGaugeWidget.create_scale_marker_values_text"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.create_scale_marker_values_text">[docs]</a>    <span class="k">def</span> <span class="nf">create_scale_marker_values_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># painter.setRenderHint(QPainter.HighQualityAntialiasing)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>

        <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c1"># painter.save()</span>
        <span class="n">font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_fontsize</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">)</span>
        <span class="n">fm</span> <span class="o">=</span> <span class="n">QFontMetrics</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

        <span class="n">pen_shadow</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>

        <span class="n">pen_shadow</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ScaleValueColor</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen_shadow</span><span class="p">)</span>

        <span class="n">text_radius_factor</span> <span class="o">=</span> <span class="mf">0.8</span>
        <span class="n">text_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span><span class="o">/</span><span class="mi">2</span> <span class="o">*</span> <span class="n">text_radius_factor</span>

        <span class="n">scale_per_div</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span><span class="p">)</span>

        <span class="n">angle_distance</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># text = str(int((self.maxValue - self.minValue) / self.scalaCount * i))</span>
            <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minValue</span> <span class="o">+</span> <span class="n">scale_per_div</span> <span class="o">*</span> <span class="n">i</span><span class="p">))</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_fontsize</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">))</span>
            <span class="n">angle</span> <span class="o">=</span> <span class="n">angle_distance</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
            <span class="c1"># print(w, h, x, y, text)</span>

            <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">,</span> <span class="n">text</span><span class="p">]</span>
            <span class="n">painter</span><span class="o">.</span><span class="n">drawText</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span></div>
        <span class="c1"># painter.restore()</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># FINE SCALE MARKERS</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.create_fine_scaled_marker"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.create_fine_scaled_marker">[docs]</a>    <span class="k">def</span> <span class="nf">create_fine_scaled_marker</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#  Description_dict = 0</span>
        <span class="n">my_painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">my_painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
        <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
        <span class="n">my_painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">my_painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fineScaleColor</span><span class="p">)</span>
        <span class="n">my_painter</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_offset</span><span class="p">)</span>
        <span class="n">steps_size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scala_subdiv_count</span><span class="p">))</span>
        <span class="n">scale_line_outer_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">scale_line_lenght</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">40</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">scalaCount</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scala_subdiv_count</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">my_painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">scale_line_lenght</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">scale_line_outer_start</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">my_painter</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">steps_size</span><span class="p">)</span></div>

    <span class="c1">################################################################################################</span>
    <span class="c1"># VALUE TEXT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.create_values_text"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.create_values_text">[docs]</a>    <span class="k">def</span> <span class="nf">create_values_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">HighQualityAntialiasing</span><span class="p">)</span>
        <span class="c1"># painter.setRenderHint(QPainter.Antialiasing)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c1"># painter.save()</span>
        <span class="c1"># xShadow = 3.0</span>
        <span class="c1"># yShadow = 3.0</span>
        <span class="n">font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">)</span>
        <span class="n">fm</span> <span class="o">=</span> <span class="n">QFontMetrics</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

        <span class="n">pen_shadow</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>

        <span class="n">pen_shadow</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DisplayValueColor</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen_shadow</span><span class="p">)</span>

        <span class="n">text_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_radius_factor</span>

        <span class="c1"># angle_distance = (float(self.scale_angle_size) / float(self.scalaCount))</span>
        <span class="c1"># for i in range(self.scalaCount + 1):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">))</span>

        <span class="c1"># Mitte zwischen Skalenstart und Skalenende:</span>
        <span class="c1"># Skalenende = Skalenanfang - 360 + Skalenlaenge</span>
        <span class="c1"># Skalenmitte = (Skalenende - Skalenanfang) / 2 + Skalenanfang</span>
        <span class="n">angle_end</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">-</span> <span class="mi">360</span><span class="p">)</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="p">(</span><span class="n">angle_end</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
        <span class="c1"># print(w, h, x, y, text)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">,</span> <span class="n">text</span><span class="p">]</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">drawText</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span></div>


    <span class="c1">################################################################################################</span>
    <span class="c1"># UNITS TEXT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.create_units_text"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.create_units_text">[docs]</a>    <span class="k">def</span> <span class="nf">create_units_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">HighQualityAntialiasing</span><span class="p">)</span>
        <span class="c1"># painter.setRenderHint(QPainter.Antialiasing)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">)</span>
        <span class="n">fm</span> <span class="o">=</span> <span class="n">QFontMetrics</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

        <span class="n">pen_shadow</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>

        <span class="n">pen_shadow</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DisplayValueColor</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen_shadow</span><span class="p">)</span>

        <span class="n">text_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_radius_factor</span>

        <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontname</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_fontsize</span> <span class="o">/</span> <span class="mf">2.5</span><span class="p">),</span> <span class="n">QFont</span><span class="o">.</span><span class="n">Bold</span><span class="p">))</span>

      
        <span class="n">angle_end</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">+</span> <span class="mi">180</span><span class="p">)</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="p">(</span><span class="n">angle_end</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">text_radius</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
        <span class="c1"># print(w, h, x, y, text)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">,</span> <span class="n">text</span><span class="p">]</span>
        
        <span class="n">painter</span><span class="o">.</span><span class="n">drawText</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span></div>


    <span class="c1">################################################################################################</span>
    <span class="c1"># CENTER POINTER</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.draw_big_needle_center_point"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_big_needle_center_point">[docs]</a>    <span class="k">def</span> <span class="nf">draw_big_needle_center_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># painter.setRenderHint(QtGui.QPainter.HighQualityAntialiasing)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>

        <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoPen</span><span class="p">)</span>
        <span class="c1"># painter.setPen(Qt.NoPen)</span>

        <span class="c1"># painter.setBrush(self.CenterPointColor)</span>
        <span class="c1"># diameter = diameter # self.widget_diameter/6</span>
        <span class="c1"># painter.drawEllipse(int(-diameter / 2), int(-diameter / 2), int(diameter), int(diameter))</span>


        <span class="c1"># create_polygon_pie(self, outer_radius, inner_raduis, start, lenght)</span>
        <span class="n">colored_scale_polygon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_polygon_pie</span><span class="p">(</span>
                <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)),</span>
                <span class="mi">0</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># 150.0 0.0 131 360</span>

        <span class="n">grad</span> <span class="o">=</span> <span class="n">QConicalGradient</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># todo definition scale color as array here</span>
        <span class="k">for</span> <span class="n">eachcolor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">needle_center_bg</span><span class="p">:</span>
            <span class="n">grad</span><span class="o">.</span><span class="n">setColorAt</span><span class="p">(</span><span class="n">eachcolor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">eachcolor</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1"># grad.setColorAt(.00, Qt.red)</span>
        <span class="c1"># grad.setColorAt(.1, Qt.yellow)</span>
        <span class="c1"># grad.setColorAt(.15, Qt.green)</span>
        <span class="c1"># grad.setColorAt(1, Qt.transparent)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">grad</span><span class="p">)</span>
        <span class="c1"># self.brush = QBrush(QColor(255, 0, 255, 255))</span>
        <span class="c1"># painter_filled_polygon.setBrush(self.brush)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">drawPolygon</span><span class="p">(</span><span class="n">colored_scale_polygon</span><span class="p">)</span></div>
        <span class="c1"># return painter_filled_polygon</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># CREATE OUTER COVER</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.draw_outer_circle"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_outer_circle">[docs]</a>    <span class="k">def</span> <span class="nf">draw_outer_circle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoPen</span><span class="p">)</span>
        <span class="n">colored_scale_polygon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_polygon_pie</span><span class="p">(</span>
                <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pen</span><span class="o">.</span><span class="n">width</span><span class="p">())),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">6</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">radialGradient</span> <span class="o">=</span> <span class="n">QRadialGradient</span><span class="p">(</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">eachcolor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">outer_circle_bg</span><span class="p">:</span>
            <span class="n">radialGradient</span><span class="o">.</span><span class="n">setColorAt</span><span class="p">(</span><span class="n">eachcolor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">eachcolor</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>


        <span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">radialGradient</span><span class="p">)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">drawPolygon</span><span class="p">(</span><span class="n">colored_scale_polygon</span><span class="p">)</span></div>


    <span class="c1">################################################################################################</span>
    <span class="c1"># NEEDLE POINTER</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.draw_needle"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.draw_needle">[docs]</a>    <span class="k">def</span> <span class="nf">draw_needle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># painter.setRenderHint(QtGui.QPainter.HighQualityAntialiasing)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
        <span class="c1"># Koordinatenursprung in die Mitte der Flaeche legen</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoPen</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span><span class="p">)</span>
        <span class="n">painter</span><span class="o">.</span><span class="n">rotate</span><span class="p">(((</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_offset</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span> <span class="o">/</span>
                        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">))</span> <span class="o">+</span> <span class="mi">90</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span><span class="p">)</span>

        <span class="n">painter</span><span class="o">.</span><span class="n">drawConvexPolygon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_needle</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>

    <span class="c1">###############################################################################################</span>
    <span class="c1"># EVENTS</span>
    <span class="c1">###############################################################################################</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># ON WINDOW RESIZE</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.resizeEvent"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.resizeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># self.resized.emit()</span>
        <span class="c1"># return super(self.parent, self).resizeEvent(event)</span>
        <span class="c1"># print(&quot;resized&quot;)</span>
        <span class="c1"># print(self.width())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rescale_method</span><span class="p">()</span></div>
        <span class="c1"># self.emit(QtCore.SIGNAL(&quot;resize()&quot;))</span>
        <span class="c1"># print(&quot;resizeEvent&quot;)</span>

    <span class="c1">################################################################################################</span>
    <span class="c1"># ON PAINT EVENT</span>
    <span class="c1">################################################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.paintEvent"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.paintEvent">[docs]</a>    <span class="k">def</span> <span class="nf">paintEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># Main Drawing Event:</span>
        <span class="c1"># Will be executed on every change</span>
        <span class="c1"># vgl http://doc.qt.io/qt-4.8/qt-demos-affine-xform-cpp.html</span>
        <span class="c1"># print(&quot;event&quot;, event)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">draw_outer_circle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_icon_image</span><span class="p">()</span>
        <span class="c1"># colored pie area</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_filled_Polygon</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_filled_polygon</span><span class="p">()</span>

        <span class="c1"># draw scale marker lines</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_fine_scaled_marker</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_fine_scaled_marker</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_big_scaled_marker</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_big_scaled_marker</span><span class="p">()</span>

        <span class="c1"># draw scale marker value text</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_scale_text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_scale_marker_values_text</span><span class="p">()</span>

        <span class="c1"># Display Value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_value_text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_values_text</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_units_text</span><span class="p">()</span>

        <span class="c1"># draw needle 1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_Needle_Polygon</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_needle</span><span class="p">()</span>

        <span class="c1"># Draw Center Point</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_CenterPoint</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_big_needle_center_point</span><span class="p">(</span><span class="n">diameter</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_diameter</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">updateAngleValue</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>        </div>

    <span class="c1">###############################################################################################</span>
    <span class="c1"># MOUSE EVENTS</span>
    <span class="c1">###############################################################################################</span>

<div class="viewcode-block" id="AnalogGaugeWidget.setMouseTracking"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.setMouseTracking">[docs]</a>    <span class="k">def</span> <span class="nf">setMouseTracking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">recursive_set</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">parent</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">child</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="n">recursive_set</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

        <span class="n">QWidget</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>
        <span class="n">recursive_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="AnalogGaugeWidget.mouseReleaseEvent"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.mouseReleaseEvent">[docs]</a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">QMouseEvent</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorReleased</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_timer_event</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="k">pass</span></div>

    <span class="c1">########################################################################</span>
    <span class="c1">## MOUSE LEAVE EVENT</span>
    <span class="c1">########################################################################</span>
<div class="viewcode-block" id="AnalogGaugeWidget.leaveEvent"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.leaveEvent">[docs]</a>    <span class="k">def</span> <span class="nf">leaveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorReleased</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> </div>

    <span class="sd">&quot;&quot;&quot;def mousePressEvent(self, event):</span>

<span class="sd">        if event.buttons () == Qt.LeftButton: # left button pressed</span>

<span class="sd">            self.angle += 4</span>

<span class="sd">            value = (float(math.fmod(self.angle - self.scale_angle_start_value + 720, 360)) / \</span>
<span class="sd">                    (float(self.scale_angle_size) / float(self.maxValue - self.minValue))) + self.minValue</span>
<span class="sd">            </span>
<span class="sd">            if(self.value - (self.maxValue - self.minValue) * self.valueNeedleSnapzone) &lt;= \</span>
<span class="sd">                value &lt;= (self.value + (self.maxValue - self.minValue) * self.valueNeedleSnapzone):</span>
<span class="sd">                self.NeedleColor = self.NeedleColorDrag</span>


<span class="sd">                if value &gt;= self.maxValue and self.last_value &lt; (self.maxValue - self.minValue) / 2:</span>
<span class="sd">                    value = self.maxValue</span>
<span class="sd">                    self.last_value = self.minValue</span>
<span class="sd">                    self.valueChanged.emit(int(value))</span>
<span class="sd">                </span>
<span class="sd">                elif value &gt;= self.maxValue &gt;= self.last_value:</span>
<span class="sd">                    value = self.maxValue</span>
<span class="sd">                    self.valueChanged.emit(int(value))</span>
<span class="sd">                </span>
<span class="sd">                else:</span>
<span class="sd">                    self.last_value = value</span>
<span class="sd">                    self.valueChanged.emit(int(value))</span>
<span class="sd">                </span>
<span class="sd">                self.updateValue(value)</span>

<span class="sd">&quot;&quot;&quot;</span>
    
    
<div class="viewcode-block" id="AnalogGaugeWidget.updateAngleValue"><a class="viewcode-back" href="../analoggaugewidget.html#analoggaugewidget.AnalogGaugeWidget.updateAngleValue">[docs]</a>    <span class="k">def</span> <span class="nf">updateAngleValue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="n">Mqtt</span><span class="o">.</span><span class="n">angle</span>
        
        <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_start_value</span> <span class="o">+</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">360</span><span class="p">))</span> <span class="o">/</span> \
            <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_angle_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)))</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span>

        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueNeedleSnapzone</span><span class="p">)</span> <span class="o">&lt;=</span> \
            <span class="n">value</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueNeedleSnapzone</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">NeedleColorDrag</span>

            <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_value</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minValue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            
            <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_value</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxValue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_value</span> <span class="o">=</span> <span class="n">value</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; **** angle : &quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>

<span class="c1">################################################################################################</span>
<span class="c1"># END ==&gt;</span>
<span class="c1">################################################################################################</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Hilal Nisanci.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>